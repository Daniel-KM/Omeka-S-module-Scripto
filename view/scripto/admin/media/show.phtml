<?php 
$this->headLink()->appendStylesheet($this->assetUrl('css/scripto.css', 'Scripto'));
$this->headScript()->appendFile($this->assetUrl('js/scripto.js', 'Scripto'));
$this->htmlElement('body')->appendAttribute('class', 'scripto media show');
?>

<?php echo $this->pageTitle($this->translate('Media review'), 1, $this->translate('Scripto'), $media->displayTitle()); ?>

<div id="page-actions">
    <div id="page-action-menu">
        <a href="#" class="expand button" aria-label="<?php echo $this->translate('Expand'); ?>"><?php echo $this->translate('Actions'); ?></a>
        <ul class="collapsible">
            <li><?php echo $this->hyperlink($this->translate('Browse revision history'), $this->url('admin/scripto-media-id', ['action' => 'revision'], true)); ?></li>
        </ul>
    </div>
</div>

<?php echo $this->scripto()->adminLoginBar(); ?>

<?php echo $this->scripto()->adminBreadcrumbs(); ?>

<?php
$previous = $sMedia->previousScriptoMedia();
$next = $sMedia->nextScriptoMedia();
?>
<nav class="pagination" role="navigation">
    <?php if ($previous): ?>
    <?php echo $this->hyperlink('', $previous->adminUrl(), ['class' => 'previous o-icon-prev button', 'title' => $this->translate('Previous')]); ?>
    <?php else: ?>
    <span class="previous o-icon-prev button inactive"></span>
    <?php endif; ?>
    <?php if ($next): ?>
    <?php echo $this->hyperlink('', $next->adminUrl(), ['class' => 'next o-icon-next button', 'title' => $this->translate('Next')]); ?>
    <?php else: ?>
    <span class="next o-icon-next button inactive"></span>
    <?php endif; ?>
    <span class="row-count"><?php echo sprintf($this->translate('%s of %s'), $sMedia->position(), $sMedia->scriptoItem()->mediaCount()); ?></span>
</nav>

<?php echo $this->sectionNav([
    'wikitext' => $this->translate('Wikitext'),
    'html' => $this->translate('HTML'),
]); ?>

<div id="wikitext" class="active section">
    <textarea disabled><?php echo $sMedia->pageWikitext(); ?></textarea>
    <?php echo $media->render(); ?>
</div>

<div id="html" class="section">
    <?php echo $sMedia->pageHtml(); ?>
</div>

<div id="scripto-media-metadata" class="sidebar always-open">
    <?php echo $this->partial('scripto/admin/media/show-details') ?>
</div>
